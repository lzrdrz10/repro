<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Generador</title>
<style>
  body { font-family: Arial, sans-serif; background:#111; color:#fff; padding:20px; }
  input { width:100%; padding:10px; margin:5px 0; border-radius:5px; border:none; }
  button { padding:10px 20px; margin-top:10px; background:#ffc700; border:none; border-radius:5px; cursor:pointer; color:#000; font-weight:bold; }
  #resultado-container { margin-top:15px; }
  a { color:#0ff; word-break: break-all; text-decoration: underline; }
</style>
</head>
<body>

<h2>Generador</h2>

<label>Enlace de Video</label>
<input type="text" id="video" placeholder="https://">

<label>Poster (opcional)</label>
<input type="text" id="poster" placeholder="https://image.tmdb.org/t/p/original/fQOV47FHTJdaSuSUNlzP3zXUZWE.jpg" value="https://image.tmdb.org/t/p/original/fQOV47FHTJdaSuSUNlzP3zXUZWE.jpg">

<label>Título</label>
<input type="text" id="titulo" placeholder="Nombre del video">

<button onclick="generar()">Generar Enlace</button>
<button id="copiar" onclick="copiar()" style="display:none;">Copiar Enlace</button>

<div id="resultado-container" style="display:none;">
  <a id="resultado" href="" target="_blank"></a>
</div>

<script>
function b64(str){
  return btoa(unescape(encodeURIComponent(str)));
}

function generar(){
  var video=document.getElementById("video").value.trim();
  var titulo=document.getElementById("titulo").value.trim();
  var poster=document.getElementById("poster").value.trim();

  if(!video || !titulo){
    alert("Ingresa el video y el título");
    return;
  }

  var v=b64(video);
  var t=b64(titulo);
  var p=b64(poster);

  var enlace="player.html?video="+v+"&poster="+p+"&title="+t;

  var resultadoLink = document.getElementById("resultado");
  resultadoLink.href = enlace;
  resultadoLink.innerText = enlace;

  document.getElementById("resultado-container").style.display="block";
  document.getElementById("copiar").style.display="block";
}

function copiar(){
  var enlace = document.getElementById("resultado").href;
  navigator.clipboard.writeText(enlace).then(function(){
    alert("Enlace copiado: " + enlace);
  });
}
</script>

</body>
</html>
